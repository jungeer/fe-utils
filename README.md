# å‰ç«¯å·¥å…·åº“

è¿™æ˜¯ä¸€ä¸ªç”¨äºå‰ç«¯å¼€å‘çš„å®ç”¨å·¥å…·åº“ï¼ŒåŒ…å«äº†å¤šä¸ªç«¯åˆ†åˆ«çš„å·¥å…·å°è£…ï¼Œ`web`ã€`wxapp`ã€`h5`ã€`common`(å„ç«¯é€šç”¨å·¥å…·)

## â¬‡ï¸ å¦‚æœä½ æƒ³ä½¿ç”¨è¯¥å·¥å…·åº“ï¼Œè¯·çœ‹ä»¥ä¸‹ â¬‡ï¸

### ğŸ“¦ å®‰è£…

```bash
npm install @batar/utils
or
yarn add @batar/utils
```

### ğŸ¦„ ä½¿ç”¨

```typescript
// å¯¼å…¥ common æ¨¡å—çš„ add æ–¹æ³•
import { add } from "@batar/utils/common";

console.log(add(1, 2)); // è¾“å‡º 3
```

```typescript
// å¯¼å…¥ web æ¨¡å—çš„ add æ–¹æ³•
import { add } from "@batar/utils/web";

console.log(add(1, 2)); // è¾“å‡º 3
```

### ğŸš€ æ¨¡å—è¯´æ˜

#### commonï¼ˆé€šç”¨å·¥å…·åº“ï¼‰

```typescript
add(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ
subtract(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å·®
```

#### webï¼ˆpc ç«¯å·¥å…·åº“ï¼‰

```typescript
add(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ
subtract(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å·®
```

#### wxappï¼ˆå¾®ä¿¡å°ç¨‹åºå·¥å…·åº“ï¼‰

```typescript
add(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ
subtract(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å·®
```

#### h5ï¼ˆç§»åŠ¨ç«¯å·¥å…·åº“ï¼‰

```typescript
add(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å’Œ
subtract(a: number, b: number): number - è¿”å›ä¸¤ä¸ªæ•°çš„å·®
```

## ğŸ‘¨â€ğŸš€ è´¡çŒ®è€…ä»¬

```
@å‰ç«¯ä¿Šå“¥å„¿ä¹
```

<br />
<b>ä½¿ç”¨è¯´æ˜åˆ°è¿™å°±ç»“æŸäº†</b>
<br />

---

## â¬‡ï¸ å¦‚æœä½ æƒ³å‚ä¸è¯¥å·¥å…·åº“çš„å¼€å‘ è¯·çœ‹ä»¥ä¸‹ â¬‡ï¸

å¦‚æœä½ æçš„ PR è¢«æ”¶å½•ï¼Œä½ çš„ä¸ªäººæ ‡è¯†å°†ä¼šå‡ºç°åœ¨ â€œè´¡çŒ®è€…â€ è¯´æ˜å“¦ ğŸ˜¯

### âš ï¸ é¡¹ç›®å¼€å‘è§„èŒƒï¼ˆå¿…çœ‹ â—ï¸â—ï¸â—ï¸ï¼‰

#### GIT FLOW è§„èŒƒ

1. **æ‹‰å–å¼€å‘åˆ†æ”¯ dev**
2. **ä» dev åˆ†æ”¯æ–°å»º feat_yourname_utilName**
3. **git commit ä¿¡æ¯å¿…é¡»å†™æ¸…æ¥šè¯¥æ–¹æ³•ç®€è¦æè¿°**
4. **å¼€å‘å®Œæˆåå‘ dev å‘èµ· mr åˆå¹¶ï¼Œå‘èµ· mr æ—¶å¿…é¡»åœ¨æè¿°è¯¦ç»†è¯´æ˜è¯¥æ–¹æ³•èƒŒæ™¯ç­‰**

#### ç›®å½•è§„èŒƒ

```bash
â””â”€â”€ core   # ä¸»ä»£ç æ–‡ä»¶ï¼Œä½ å†™çš„å·¥å…·å‡½æ•°ä¸€å®šä¼šå­˜åœ¨ä»¥ä¸‹å…¶ä¸­ä¸€ä¸ªç›®å½•ä¸‹
    â”œâ”€â”€ common   # å¦‚æœä½ å†™çš„æ˜¯ä¸€ä¸ªé€šç”¨å·¥å…·å‡½æ•°ï¼Œè¯·åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º [funcname]/index.tsã€[funcname]/index.test.ts
    â”œâ”€â”€ h5   # å¦‚æœä½ å†™çš„æ˜¯ä¸€ä¸ªç§»åŠ¨ç«¯å·¥å…·å‡½æ•°ï¼Œè¯·åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º [funcname]/index.tsã€[funcname]/index.test.ts
    â”œâ”€â”€ web  # å¦‚æœä½ å†™çš„æ˜¯ä¸€ä¸ªPCç«¯å·¥å…·å‡½æ•°ï¼Œè¯·åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º [funcname]/index.tsã€[funcname]/index.test.ts
    â””â”€â”€ wxapp   # å¦‚æœä½ å†™çš„æ˜¯ä¸€ä¸ªå°ç¨‹åºå·¥å…·å‡½æ•°ï¼Œè¯·åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º [funcname]/index.tsã€[funcname]/index.test.ts
```

#### ç¼–ç è§„èŒƒ

**æ¯ä¸€ä¸ªå·¥å…·å‡½æ•°**

- **éƒ½åº”è¯¥å…·æœ‰è‡ªå·±çš„ç›®å½•ï¼Œä¸”ç›®å½•åä¸ºè¯¥å·¥å…·å‡½æ•°è¯´æ˜**
- **ç›®å½•å‘½åå¼ºåˆ¶ä½¿ç”¨å°é©¼å³°å‘½åï¼Œex. getUserName**
- **ç›®å½•ä¸‹éƒ½å¿…é¡»åŒ…å« index.tsï¼Œç”¨äºç¼–å†™ä½ çš„å·¥å…·å‡½æ•°é€»è¾‘**
- **ç›®å½•ä¸‹éƒ½å¿…é¡»åŒ…å« index.test.tsï¼Œç”¨æˆ·ç¼–å†™ä½ çš„æµ‹è¯•ç”¨ä¾‹**
- **è¯¥é¡¹ç›®æ‰€æœ‰å‘½åéƒ½åº”éµå¾ªå°é©¼å³°å‘½åï¼Œä½œç”¨èŒƒå›´åŒ…æ‹¬ä½†ä¸å±€é™äº ç›®å½•å‘½å/å¯¼å‡ºå‡½æ•°å‘½å**

#### å·¥å…·å‡½æ•°å¯¼å‡ºè§„èŒƒ

1. å½“ä½ å†™å®Œè‡ªå·±çš„å·¥å…·å‡½æ•°ï¼Œè¯·åŠ¡å¿…å°†å…¶å¯¼å‡º

```typescript
// ä»¥ common/add/index.ts ä¸ºä¾‹
export function yourUtilsName(a: number, b: number): number {
  return a + b;
}
```

2. å½“ä½ å†™å®Œè‡ªå·±çš„å·¥å…·å‡½æ•°ï¼Œè¯·åŠ¡å¿…åœ¨å¯¹åº”æ¨¡å—ä¸‹å…¥å£æ–‡ä»¶å¯¼å‡º

```typescript
// ä»¥ common æ¨¡å—ä¸ºä¾‹: common/index.ts
export * from "./add";
export * from "./subtract";
export * from "./your utils directory";
```

#### æµ‹è¯•è§„èŒƒ

```bash
npm run test # å¼€å‘å®Œæˆåï¼Œå¿…é¡»ä¿è¯æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
```

### ğŸ–ï¸ å°±ç»ªï¼šä½ å¯ä»¥å¼€å§‹ç¼–ç¨‹äº†

```bash
1. git clone <url> # è¯·å…ˆ clone æœ¬é¡¹ç›®åˆ°ä½ çš„æœ¬åœ°
2. npm install # å®‰è£…ä¾èµ–
3. æ ¹æ®ä»¥ä¸Šé¡¹ç›®å¼€å‘è§„èŒƒ Action
```

### ğŸ”º æµ‹è¯•

```bash
npm test # åœ¨æäº¤ä½ çš„ä»£ç å‰ï¼Œè¯·åŠ¡å¿…ä¿è¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼ï¼ï¼
```

### ğŸ”§ ä¸è¶³

```
1. éœ€è¦åœ¨é¡¹ç›®æ·»åŠ  git hooks æ ¡éªŒ
2. éœ€è¦åœ¨æ¯ä¸ªå·¥å…·å‡½æ•°ç›®å½•æ–°å»º README.mdï¼Œåˆ†åˆ«å¯¹åº”è¯¥æ–¹æ³•çš„ä½¿ç”¨è¯´æ˜
```

### ğŸŒ¸ æ„Ÿè°¢

æ„Ÿè°¢ä½ ä¸ºè¯¥å·¥å…·åº“åšå‡ºçš„è´¡çŒ®
